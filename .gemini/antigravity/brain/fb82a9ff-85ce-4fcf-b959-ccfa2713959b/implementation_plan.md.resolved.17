# Implementation Plan - Phase 7: Content & Experience Expansion

## Goal Description
Enhance the application with rich content (backdrops, streaming info, soundtracks) and deepen the user experience with better organization tools (filters, lists, franchises) and gamification (badges).

## Proposed Changes

### 1. Backdrop Images (Thematic Backgrounds)
#### [NEW] [src/components/ui/MovieBackdrop.tsx]
- Create a component to render the backdrop image.
- **Logic**: Fetch `backdrop_path` from TMDB when updating movie data.
- **UI**: Display subtly behind the movie details or as a header in the modal.

#### [MODIFY] [src/components/modals/MovieEditorModal.tsx]
- Fetch and save `backdrop_path` alongside `poster_path`.
- Update [Movie](file:///c:/Users/gabri/.gemini/antigravity/scratch/movie-pwa/src/types/index.ts#1-28) type to include `backdropValue`.

### 2. Advanced Filters & Sorting
#### [MODIFY] [src/pages/MoviesPage.tsx]
- Add a "Sort By" dropdown:
    - Title (A-Z, Z-A)
    - Year (Newest, Oldest)
    - Rating (Highest, Lowest)
    - Duration (Shortest, Longest)
    - Date Added (Newest, Oldest)

### 3. Custom Lists (Tags)
#### [NEW] [src/components/modals/TagManagerModal.tsx]
- Manage custom tags (e.g., "Favorites", "To Watch with Mom").

#### [MODIFY] [src/types/index.ts]
- Add `tags: string[]` to [Movie](file:///c:/Users/gabri/.gemini/antigravity/scratch/movie-pwa/src/types/index.ts#1-28) interface.

### 4. Clickable Cast & Crew
#### [MODIFY] [src/components/modals/MovieEditorModal.tsx]
- Render cast names as clickable links/badges.
- **Action**: Clicking a name triggers a search in the main list for that actor/director.

### 5. Streaming Availability
#### [NEW] [src/components/ui/StreamingProviders.tsx]
- Component to display icons of providers (Netflix, Prime, etc.).
- **API**: Use TMDB `/movie/{id}/watch/providers` endpoint.

### 6. Franchises & Universes
#### [NEW] [src/components/ui/FranchiseCard.tsx]
- Visual grouping for collections (e.g., "Harry Potter Collection").
- **API**: Check `belongs_to_collection` in TMDB response.

### 7. Badges & Achievements
#### [NEW] [src/components/gamification/BadgeSystem.tsx]
- Logic to award badges (e.g., "Watched 10 Horror Movies").
- **UI**: Display badges in [StatsModal](file:///c:/Users/gabri/.gemini/antigravity/scratch/movie-pwa/src/components/modals/StatsModal.tsx#12-197).

### 8. Soundtrack Integration
#### [MODIFY] [src/components/modals/MovieEditorModal.tsx]
- Add a spotify link field or auto-search button.

### 9. Critics Rating
#### [MODIFY] [src/components/modals/MovieEditorModal.tsx]
- Fetch additional rating data if available (or map TMDB logic).

### 10. Auto-Enrichment System (Background Sync)
#### [NEW] [src/hooks/useAutoEnrichment.ts]
- **Purpose**: Silently fetch missing data (Backdrops, Posters, Metadata).
- **Logic**:
    - Identify movies with missing `backdropValue` or `tmdbId`.
    - Queue them for processing (1 request per 2 seconds).
    - Batch update Google Sheets every 5 items or on complete.
- **UI**: Add a small spinning sync icon in the `AppShell` footer.

## Verification Plan
- **Backdrops**: Add a new movie, verify unique background image appears.
- **Filters**: Sort list by Rating, verify order.
- **Streaming**: Open a popular movie, check if Netflix/Prime icons appear.
